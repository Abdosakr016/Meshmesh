<div class="container table-responsive py-5">
  <h1>All vets Created</h1>
  <table class="table table-bordered table-hover">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Id</th>
        <th scope="col">logo</th>
        <th scope="col">Created at</th>
        <th scope="col">Updated at</th>
        <th scope="col">Name</th>
        <th scope="col">City</th>
        <th scope="col">street_address</th>
        <th scope="col">Open</th>
        <th scope="col">Close</th>
        <th scope="col" class="bg-danger">Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="
          let vet of vets
            | paginate : { itemsPerPage: itemsPerPage, currentPage: p }
        "
      >
        <th scope="row">{{ vet.id }}</th>
        <td>
          <img
            src="{{ logopath }}{{ vet.logo }}"
            style="height: 100%; max-height: 150px"
            width="200px"
            alt=""
            class="avatar-lg rounded"
          />
        </td>
        <td>{{ vet.created_at | date : "yyyy-MM-dd HH:mm:ss" }}</td>
        <td>{{ vet.updated_at | date : "yyyy-MM-dd HH:mm:ss" }}</td>
        <td>{{ vet.name }}</td>
        <td>{{ vet.governorate }}</td>
        <td>{{ vet.street_address }}</td>
        <td>{{ vet.open_at }}</td>
        <td>{{ vet.close_at }}</td>

        <td class="text-danger p-1">
          <button
            class="btn btn-danger mx-2"
            data-bs-toggle="modal"
            data-bs-target="#DeleteModal"
            (click)="deleteVet(vet.id)"
          >
            Delete
          </button>
          <div
            class="modal fade"
            id="DeleteModal"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-body">
                  <div
                    class="alert alert-warning alert-dismissible fade show"
                    role="alert"
                  >
                    are you sure that you want to delete this Center
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Close
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger"
                    data-bs-dismiss="modal"
                    (click)="modeldeleteVet()"
                  >
                    confirme
                  </button>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
      <!-- <tr>
        <td colspan="10">
          <div class="accordion accordion-flush" id="accordionFlushExample">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#validate-flush-collapseOne"
                  aria-expanded="false"
                  aria-controls="flush-collapseOne"
                >
                  Data Wait Validation
                </button>
              </h2>
              <div
                id="validate-flush-collapseOne"
                class="accordion-collapse collapse"
                data-bs-parent="#accordionFlushExample"
              >
                <div class="accordion-body">
                  <table>
                    <tr>
                      <th
                        scope="col"
                        colspan="2"
                        style="padding-left: 120px; padding-right: 120px"
                      >
                        license
                      </th>
                      <th
                        scope="col"
                        colspan="2"
                        style="padding-left: 120px; padding-right: 120px"
                      >
                        Tax Record
                      </th>
                      <th
                        scope="col"
                        colspan="2"
                        style="padding-left: 120px; padding-right: 120px"
                      >
                        Commercial Record
                      </th>
                      <th>Action</th>
                    </tr>
                    <tr *ngFor="let vet of vets">
                      <td scope="col" colspan="2">
                        <img
                          src="{{ logopath }}{{ vet.license }}"
                          style="padding-left: 80px; padding-right: 80px"
                          width="200px"
                          alt=""
                          class="avatar-lg rounded"
                        />
                      </td>
                      <td scope="col" colspan="2">
                        <img
                          src="{{ logopath }}{{ vet.tax_record }}"
                          style="padding-left: 80px; padding-right: 80px"
                          width="200px"
                          alt=""
                          class="avatar-lg rounded"
                        />
                      </td>
                      <td scope="col" colspan="2">
                        <img
                          src="{{ logopath }}{{ vet.commercial_record }}"
                          style="padding-left: 80px; padding-right: 80px"
                          width="200px"
                          alt=""
                          class="avatar-lg rounded"
                        />
                      </td>
                      <td rejectModalToggle>
                        <button
                          class="btn btn-danger"
                          [attr.data-bs-target]="'#rejectModalToggle' + vet.id"
                          data-bs-toggle="modal"
                          *ngIf="vet.status == 'pending'"
                        >
                          Reject
                        </button>
                        <div
                          class="modal fade"
                          id="rejectModalToggle{{ vet.id }}"
                          aria-hidden="true"
                          aria-labelledby="exampleModalToggleLabel"
                          tabindex="-1"
                        >
                          <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h1
                                  class="modal-title fs-5"
                                  id="exampleModalToggleLabel"
                                >
                                  Unapproved Data
                                </h1>
                                <button
                                  type="button"
                                  class="btn-close"
                                  data-bs-dismiss="modal"
                                  aria-label="Close"
                                ></button>
                              </div>
                              <div class="modal-body">
                                We will send Data as unapproved for the user.
                              </div>
                              <div class="modal-footer">
                                <button
                                  class="btn btn-success"
                                  data-bs-target="#rejectModalToggle2"
                                  data-bs-toggle="modal"
                                  (click)="unapprovevetdata(vet.id)"
                                >
                                  Done
                                </button>
                                <button
                                  class="btn btn-danger"
                                  data-bs-dismiss="modal"
                                  data-bs-dismiss="modal"
                                >
                                  Cancel
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="modal fade"
                          id="rejectModalToggle2"
                          aria-hidden="true"
                          aria-labelledby="exampleModalToggleLabel2"
                          tabindex="-1"
                        >
                          <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h1
                                  class="modal-title fs-5"
                                  id="exampleModalToggleLabel2"
                                >
                                  Done
                                </h1>
                                <button
                                  type="button"
                                  class="btn-close"
                                  data-bs-dismiss="modal"
                                  aria-label="Close"
                                ></button>
                              </div>
                              <div class="modal-body">
                                Data Send Successfuly
                              </div>
                              <div class="modal-footer">
                                <button
                                  class="btn btn-primary"
                                  data-bs-dismiss="modal"
                                >
                                  close
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr> -->
      <tr>
        <td colspan="10">
          <div class="accordion accordion-flush" id="accordionFlushExample">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button
                  class="accordion-button collapsed"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#flush-collapseOne"
                  aria-expanded="false"
                  aria-controls="flush-collapseOne"
                >
                  Doctors
                </button>
              </h2>
              <div
                id="flush-collapseOne"
                class="accordion-collapse collapse"
                data-bs-parent="#accordionFlushExample"
              >
                <div class="accordion-body">
                  <div class="card user-card">
                    <div class="card-header pb-0 pt-1">
                      <h4>Doctors</h4>
                    </div>
                    <div
                      class="row row-cols-1 row-cols-md-3 g-4"
                      *ngFor="let vet of vets"
                    >
                      <div class="col" *ngFor="let dvet of vet.doctors">
                        <div>
                          <div class="card-block pb-0">
                            <div class="user-image">
                              <img
                                [src]="
                                  'http://localhost:8000/storage/' + dvet.image
                                "
                                class="img-radius"
                                width="60"
                                alt="User-Profile-Image"
                              />
                            </div>
                            <h6 class="f-w-600 mp-0 pb-0">
                              {{ dvet.name }}
                            </h6>
                            <p class="text-black fw-400 mp-1 pb-1">
                              {{ dvet.experience }} Experience
                            </p>
                            <!-- Start Modal Delete -->

                            <button
                              class="btn btn-danger mx-2"
                              data-bs-toggle="modal"
                              data-bs-target="#DeleteModaldoc"
                              (click)="deleteDoctor(vet.id, dvet.id)"
                            >
                              Delete
                            </button>
                            <div
                              class="modal fade"
                              id="DeleteModaldoc"
                              tabindex="-1"
                              aria-labelledby="exampleModalLabel"
                              aria-hidden="true"
                            >
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-body">
                                    <div
                                      class="alert alert-warning alert-dismissible fade show"
                                      role="alert"
                                    >
                                      are you sure that you want to delete this
                                      doctor ?
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button
                                      type="button"
                                      class="btn btn-secondary"
                                      data-bs-dismiss="modal"
                                    >
                                      Close
                                    </button>
                                    <button
                                      type="button"
                                      class="btn btn-danger"
                                      data-bs-dismiss="modal"
                                      (click)="modeldeleteDoctor()"
                                    >
                                      confirme
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Modal Delete -->

                            <hr />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
      <div class="text-center">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
    </tbody>
  </table>
</div>
